{% extends "layout.html" %}

{% block title %}
    View Info
{% endblock %}

{% block body %}
    <img class="rounded mx-auto mb-3" style="object-fit:cover; width:30vw; max-height:20vw" src="{{ shortcut.image_path }}">
    <h1>{{ shortcut.course_name }}</h1>
    <h5>Shortcut created by {{ shortcut.username }}</h3>
    <h6 style="color:#919191">Uploaded {{ shortcut.difference }}</h6>
    <div class="d-flex flex-wrap justify-content-center mb-3">
        {% if shortcut_items %}
            <h3 class="mt-3">Possible Items to Use</h3><div style="flex-basis:100%; height:0;"></div>
            {% for item in shortcut_items %}
                <div>
                    <img class="mx-5" src="{{ item.item_image_path }}" width="100"><br>
                    <h6>{{ item.item_name }}</h6>
                </div>
            {% endfor %}
        {% else %}
            <h3 class="mt-3">No Items Needed</h3>
        {% endif %}
    </div>
    <h3 class="mb-2">Percentage Through the Lap/Segment:</h3>
    <h5 class="mb-3">{{ shortcut.percentage }}%</h5>
    <h3>Description</h3>
    <p class="w-50 mb-3 mx-auto">{{ shortcut.description }}</p>
    {% if shortcut.video_url %}
        <h3>Shortcut Video</h3>
        <iframe width="480" height="270"
            src="{{ shortcut.video_url }}">
        </iframe>
    {% endif %}
    {% if shortcut.is_approved == 0 and session["is_moderator"] %}
        <form method="POST" action="/view_shortcut">
            <button class="btn btn-success mx-2" name="submit" value="approve{{ shortcut.id }}" type="submit">Approve</button>
            <button class="btn btn-danger mx-2" name="submit" value="remove{{ shortcut.id }}" type="submit">Remove</button>
        </form>
    {% endif %}
{% endblock %}